CONTRACK 0.5 CONFIGURATION AND INSTALLATION NOTES


REQUIREMENTS

First you must have the base environment for Contrack.
We have tested Contrack on: Linux, and Windows XP (Home and Professional).
Linux is recommended, but anything else that can run the 3 pieces of software listed below should do it.

Apache -> http://www.apache.org

MySQL -> http://www.mysql.com

PHP -> http://www.php.net (PEAR has to be installed and its PATH environment variable configured correctly)


1. Download Contrack

You can obtain the latest Contrack release from:
http://www.sourceforge.net/projects/contrack

Copy the tar.gz file into a working directory
e.g. $ cp contrack-0.5.tar.bz2 /tmp/contrack

Change to the working directory
e.g. $ cd /tmp/contrack

Extract the files using the command-line or your software of choice
e.g. $ tar -jxvf contrack-0.5.tar.bz2

This will extract all Contrack files and directories. Move the contents of that directory into a directory within your web server's document root or your public HTML directory

e.g.$ mv /tmp/contrack/* /var/www/html

Alternatively, if you downloaded the file to your computer and unpacked it locally using a windows-based file manager, use a FTP program to upload all files to your server.
Make sure all PHP, HTML, CSS and JS files are sent in ASCII mode and image files (GIF, JPG, PNG) in BINARY mode.


2. Create the Contrack database

Contrack will currently only work with MySQL. In the following examples, "db_user" is an example MySQL user which has the CREATE and GRANT privileges. You will need to use the appropriate user name for your system.
These examples are given using the command-line tool for mysql.
Alternatively, you can use any of the several available third-party programs that offer capabilities for MySQL account administration. phpMyAdmin is one such program.

a) First, you must create a new database for your Contrack application
e.g. $ mysqladmin -u db_user -p password create contrack

b) MySQL will prompt for the 'db_user' database password and then create the initial database files. Next you must login and set the access database rights
e.g. $ mysql -u db_user -p password

c) Again, you will be asked for the 'db_user' database password. At the MySQL prompt, enter following command:
GRANT ALL PRIVILEGES ON contrack.*
TO username@localhost IDENTIFIED BY 'password';
where:
'contrack' is the name of your database
'username@localhost' is the userid of your MySQL account that the php files will use to connect to the database
'password' is the password required to log in as this MySQL user

If successful, MySQL will reply with
Query OK, 0 rows affected

d) To activate the new permissions you must enter the command:

FLUSH PRIVILIGES;
and then enter '\q' to exit MySQL.


3. Create and populate the Contrack database tables

In your MySQL administrator run the sql script named 'contrack.sql' located under the 'sql' directory which was created when you unzipped the contrack-0.5.tar.bz2 file.


4. Configure Contrack

- Open 'contrack/conf/contrack_config.php 'and edit the database connection string to reflect the db name, user name, and password you just created.
- Open 'contrack/patUser-2.2.3/prepend.php' and edit the $dsn variable to reflect the changes you made:
e.g. $dsn = "mysql://username:password@localhost/contrack";

5. General Notes

PHP:
php.ini setting:
- output_buffering = 4096  (to be able to send header lines after sending body content)
- upload_max_filesize, post_max_size have to be set to the desired size
- session.save_path has to be set correctly

MySQL:
my.ini setting:
- max_allowed_packet has to be set to the same size as post_max_size in php.ini
- MySQL DB User needs to have File privilege in mysql.user table to be able to successfully upload and save files in the DB

6.Installation Complete

Installation is complete at this point.
In your browser, type in the address where you deployed Contrack
(i.e.http://domain.name/contrack )
Use the following username/password combination to login:
username = admin
password = admin

7. Contrack Administration

Upon a new installation, your Contrack application defaults to a very basic
configuration with only one user created ('admin'). Make sure you change the password after you login the first time.
Use the Administration section to add new Users, Units, Product Types, Currencies,
and Countries.
You should also change the Company Profile to reflect your contact information.

8. Troubleshooting

If upon logging in you get the following error:
"Client does not support authentication protocol requested by server; consider upgrading MySQL client"
Run the following SQL statement in your MySQL administrator of choice
SET PASSWORD FOR 'your_user'@'your_host' = OLD_PASSWORD('your_password');

Check the following article for more information:
http://dev.mysql.com/doc/mysql/en/old-client.html
